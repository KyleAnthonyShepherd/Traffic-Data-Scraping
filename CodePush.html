<head>
<link href="PySyntaxHighlight.css" rel="stylesheet">
<meta charset=utf8 /><script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
</head>
<body>
<div class="comments"><h1 id="houston-chronic-rainfall-analysis---power-outages">Houston Chronic Rainfall Analysis - Power Outages</h1>
<p>This document will step through the process I used to analyze how the frequency of power outages in Houston vary with rainfall. Inline code examples will be shown, along with produced tables and figures.</p>
<h2 id="power-outage-collection">Power Outage Collection</h2>
<p>The first step is to collect the power outage data from the <a href="http://gis.centerpointenergy.com/outagetracker/">CenterPoint Energy Electric â€‹Outage Tracker</a>. historical data is not publicly available so the data must be collected in real time.</p>
<p>This code is run on a VPS cloud server. It is currently run on an Amazon EC2 server, but will move to an amazon lightsail virtual server for price stability.</p>
<p>A cron job runs the code every 5 minutes.</p>
</div>
<div class="cell"><div class=pscript><div class="script-column-left"><br>0000<br>0001<br>0002<br>0003<br>0004<br>0005<br>0006<br>0007<br>0008<br>0009<br>0010<br>0011<br>0012<br>0013<br>0014<br></div><div class="script-column-right"><br>
<span class="script-keyword-control">from</span> <span class="script-plain">HARVEY</span><span class="script-plain">.</span><span class="script-plain">data_collection</span><span class="script-plain">.</span><span class="script-plain">scraping</span> <span class="script-keyword-control">import</span> <span class="script-plain">OutageData</span><br>
<span class="script-comment-line">#&#60;display&#62;OutageData.OutageDataRealTime&#60;/display&#62;</span><br><br>
<span class="script-comment-line"># just a utility to show tables</span><br>
<span class="script-entity-name-function">print</span><span class="script-plain">(</span><span class="script-string-quoted">'Example of collected data'</span><span class="script-plain">)</span><br>
<span class="script-keyword-control">from</span> <span class="script-plain">HARVEY</span><span class="script-plain">.</span><span class="script-plain">utilities</span> <span class="script-keyword-control">import</span> <span class="script-plain">marktable</span><br>
<span class="script-plain">file</span><span class="script-keyword-operator">=</span><span class="script-entity-name-function">open</span><span class="script-plain">(</span><span class="script-string-quoted">'data/RealTimeOutageData/RealTimeOutageData/OutageData2019-05-24T193603'</span><span class="script-plain">)</span><br>
<span class="script-plain">data</span><span class="script-keyword-operator">=</span><span class="script-plain">file</span><span class="script-plain">.</span><span class="script-entity-name-function">readlines</span><span class="script-plain">(</span><span class="script-plain">)</span><br>
<span class="script-plain">file</span><span class="script-plain">.</span><span class="script-entity-name-function">close</span><span class="script-plain">(</span><span class="script-plain">)</span><br>
<span class="script-plain">headers</span><span class="script-keyword-operator">=</span><span class="script-plain">data</span><span class="script-plain">[</span><span class="script-constant-numeric">1</span><span class="script-plain">]</span><span class="script-plain">.</span><span class="script-entity-name-function">replace</span><span class="script-plain">(</span><span class="script-string-quoted">'\n'</span><span class="script-plain">,</span><span class="script-string-quoted">''</span><span class="script-plain">)</span><span class="script-plain">.</span><span class="script-entity-name-function">split</span><span class="script-plain">(</span><span class="script-string-quoted">'|'</span><span class="script-plain">)</span><br>
<span class="script-plain">outages</span><span class="script-keyword-operator">=</span><span class="script-plain">[</span><span class="script-plain">]</span><br>
<span class="script-keyword-control">for</span> <span class="script-plain">d</span> <span class="script-keyword-operator-logical-python">in</span> <span class="script-plain">data</span><span class="script-plain">[</span><span class="script-constant-numeric">2</span><span class="script-plain">:</span><span class="script-plain">]</span><span class="script-plain">:</span><br>
<span class="script-leading-whitespace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="script-plain">outages</span><span class="script-plain">.</span><span class="script-entity-name-function">append</span><span class="script-plain">(</span><span class="script-plain">d</span><span class="script-plain">.</span><span class="script-entity-name-function">replace</span><span class="script-plain">(</span><span class="script-string-quoted">'\n'</span><span class="script-plain">,</span><span class="script-string-quoted">''</span><span class="script-plain">)</span><span class="script-plain">.</span><span class="script-entity-name-function">split</span><span class="script-plain">(</span><span class="script-string-quoted">'|'</span><span class="script-plain">)</span><span class="script-plain">)</span><br>
<span class="script-entity-name-function">print</span><span class="script-plain">(</span><span class="script-string-quoted">'Created Outage Table'</span><span class="script-plain">)</span><br>
<span class="script-plain">marktable</span><span class="script-plain">.</span><span class="script-entity-name-function">marktable</span><span class="script-plain">(</span><span class="script-plain">headers</span><span class="script-plain">,</span><span class="script-plain">outages</span><span class="script-plain">)</span><br><br></div>
</div>
